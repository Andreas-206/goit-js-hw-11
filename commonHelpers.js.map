{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '41701983-23ca5d5908e2c78927e8095f2';\n\nconst getBaseUrl = () => {\n  const url = new URL(BASE_URL);\n  url.searchParams.append(\"key\", API_KEY)\n\n  return url;\n}\n\nconst fetchImg = (query) => {\n  const url = getBaseUrl();\n  url.searchParams.append(\"q\", query);\n\n  return fetch(url)\n    .then((res) => {\n      if (!res.ok) {\n        throw new Error(`HTTP error! Status: ${res.status}`);\n      }\n      return res.json();\n    })\n    .then((data) => data.hits)\n    .catch((error) => {\n      console.error(`Error fetching images:`, error);\n      throw error;\n    });\n};\n\nconst renderGallery = (images) => {\n  const galleryContainer = document.getElementById(\"gallery\");\n  galleryContainer.innerHTML = \"\";\n\n  const lightbox = new SimpleLightbox(\".gallery-item\");\n\n  images.forEach(({ image }) => {\n    galleryContainer.insertAdjacentHTML('beforeend', `\n    <li class=\"gallery-item\">\n    <img src=\"${webformatURL}\" data-source=\"${largeImageURL}\" alt=\"${tags}\"/>\n    <p>Likes: ${likes}<p/>\n    <p>view: ${view}<p/>\n    <p>comments: ${comments}<p/>\n    <p>downloads: ${downloads}<p/>\n    </li>\n    `\n    );\n  });\n\n  lightbox.refresh();\n};\n\nlet loader = document.getElementById(\"loader\");\n\nconst showLoadingIndicator = () => {\n  loader.style.display = \"block\";\n};\n\nconst hideLoadingIndicator = () => {\n  loader.style.display = \"none\";\n};\n\nconst showMessage = (message, type = \"info\") => {\n  iziToast[type]({\n    title: message,\n    position: \"topCenter\",\n  });\n};\n\nconst handleSearсhFormSubmit = (event) => {\n  event.preventDefault();\n\n  const searchInput = document.getElementById(\"search-input\");\n  const query = searchInput.value.trim();\n\n  if (query === \"\") {\n    showMessage(\"Please enter a search query\", \"warning\");\n    return;\n  }\n\n  showLoadingIndicator();\n\n  fetchImg(guery)\n    .then((images) => {\n      hideLoadingIndicator();\n      if (images.length > 0) {\n        renderGallery(images);\n      } else {\n        showMessage(\"Sorry, there are no images matching your search query. Please try again.\", \"error\");\n      }\n    })\n    .catch((error) => {\n      hideLoadingIndicator();\n      showMessage(\"Error fetching images. Pease try again later.\", \"error\");\n    });\n};\n\nconst searchForm = document.getElementById(\"form\");\nsearchForm.addEventListener(\"submit\", handleSearсhFormSubmit);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// const url = getBaseUrl();\n// url.searchParams.append(\"q\", \"query\");\n\n// fetch(url)\n//   .then(res => res.json())\n//   .then(images => {\n//     document.body.insertAdjacentHTML(\"beforeend\", `\n//     <img src=\"${images.hits[0].largeImageURL}\"/>\n//     `)\n//   })"],"names":["BASE_URL","API_KEY","getBaseUrl","url","fetchImg","query","res","data","error","renderGallery","images","galleryContainer","lightbox","SimpleLightbox","image","loader","showLoadingIndicator","hideLoadingIndicator","showMessage","message","type","iziToast","handleSearсhFormSubmit","event","searchForm"],"mappings":"6vBAOA,MAAMA,EAAW,2BACXC,EAAU,qCAEVC,EAAa,IAAM,CACvB,MAAMC,EAAM,IAAI,IAAIH,CAAQ,EAC5B,OAAAG,EAAI,aAAa,OAAO,MAAOF,CAAO,EAE/BE,CACT,EAEMC,EAAYC,GAAU,CAC1B,MAAMF,EAAMD,IACZ,OAAAC,EAAI,aAAa,OAAO,IAAKE,CAAK,EAE3B,MAAMF,CAAG,EACb,KAAMG,GAAQ,CACb,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAM,uBAAuBA,EAAI,QAAQ,EAErD,OAAOA,EAAI,MACjB,CAAK,EACA,KAAMC,GAASA,EAAK,IAAI,EACxB,MAAOC,GAAU,CAChB,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACZ,CAAK,CACL,EAEMC,EAAiBC,GAAW,CAChC,MAAMC,EAAmB,SAAS,eAAe,SAAS,EAC1DA,EAAiB,UAAY,GAE7B,MAAMC,EAAW,IAAIC,EAAe,eAAe,EAEnDH,EAAO,QAAQ,CAAC,CAAE,MAAAI,KAAY,CAC5BH,EAAiB,mBAAmB,YAAa;AAAA;AAAA,gBAErC,8BAA8B,uBAAuB;AAAA,gBACrD;AAAA,eACD;AAAA,mBACI;AAAA,oBACC;AAAA;AAAA,KAGpB,CACA,CAAG,EAEDC,EAAS,QAAO,CAClB,EAEA,IAAIG,EAAS,SAAS,eAAe,QAAQ,EAE7C,MAAMC,EAAuB,IAAM,CACjCD,EAAO,MAAM,QAAU,OACzB,EAEME,EAAuB,IAAM,CACjCF,EAAO,MAAM,QAAU,MACzB,EAEMG,EAAc,CAACC,EAASC,EAAO,SAAW,CAC9CC,EAASD,GAAM,CACb,MAAOD,EACP,SAAU,WACd,CAAG,CACH,EAEMG,EAA0BC,GAAU,CAMxC,GALAA,EAAM,eAAc,EAEA,SAAS,eAAe,cAAc,EAChC,MAAM,KAAI,IAEtB,GAAI,CAChBL,EAAY,8BAA+B,SAAS,EACpD,MACD,CAEDF,IAEAZ,EAAS,KAAK,EACX,KAAMM,GAAW,CAChBO,IACIP,EAAO,OAAS,EAClBD,EAAcC,CAAM,EAEpBQ,EAAY,2EAA4E,OAAO,CAEvG,CAAK,EACA,MAAOV,GAAU,CAChBS,IACAC,EAAY,gDAAiD,OAAO,CAC1E,CAAK,CACL,EAEMM,EAAa,SAAS,eAAe,MAAM,EACjDA,EAAW,iBAAiB,SAAUF,CAAsB"}